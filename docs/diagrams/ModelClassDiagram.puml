@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR

Package Model <<Rectangle>>{
Interface ReadOnlyAddressBook <<Interface>>
Interface ReadOnlyAppointmentBook <<Interface>>
Interface ReadOnlyUserPrefs <<Interface>>
Interface Model <<Interface>>
Class AddressBook
Class AppointmentBook
Class ArchivedAppointmentBook
Class ReadOnlyAddressBook
Class ReadOnlyAppointmentBook
Class Model
Class ModelManager
Class UserPrefs
Class ReadOnlyUserPrefs


Class UniquePatientList
Class UniqueAppointmentList
Class Patient
Class Address
Class Email
Class Name
Class Phone
Class MedicalHistory
Class MedicalEntry
Class EntryList
class "{abstract}\nEntry" as Entry
class Entry.Some<MedicalEntry> MODEL_COLOR {
}

class Entry.Empty<Object> MODEL_COLOR {
}

Class Appointment
Class Date
}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

AddressBook .up.|> ReadOnlyAddressBook

AppointmentBook .up.|> ReadOnlyAppointmentBook
ArchivedAppointmentBook .up.|> ReadOnlyAppointmentBook

ModelManager .up.|> Model
Model .right.> ReadOnlyUserPrefs
Model .left.> ReadOnlyAddressBook
Model .right.> ReadOnlyAppointmentBook
ModelManager -left-> "1" AddressBook
ModelManager -right-> "1" UserPrefs
ModelManager -right-> "1" AppointmentBook
ModelManager -right-> "1" ArchivedAppointmentBook
UserPrefs .up.|> ReadOnlyUserPrefs

AddressBook *--> "1" UniquePatientList
AppointmentBook *--> "1" UniqueAppointmentList
ArchivedAppointmentBook *--> "1" UniqueAppointmentList
UniquePatientList --> "~* all" Patient
Patient *--> Name
Patient *--> Phone
Patient *--> Email
Patient *--> Address
Patient *--> MedicalHistory
MedicalHistory *--> "1" EntryList : contains >
EntryList --> "1..*"Entry : contains >
Entry.Some -up-|> Entry : extends >
Entry.Empty -up-|> Entry : extends >
Entry.Some --> "1"MedicalEntry

UniqueAppointmentList --> "~* all" Appointment
Appointment *--> Date
Appointment *--> "1" Patient

Name -[hidden]right-> Phone
Phone -[hidden]right-> Address
Address -[hidden]right-> Email

ModelManager -->"~* filtered" Patient
@enduml
